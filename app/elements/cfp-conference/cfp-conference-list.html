<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../styles/app-theme.html">
<link rel="import" href="../../styles/shared-styles.html">
<link rel="import" href="cfp-conference.html">

<script src="../../bower_components/page/page.js"></script>

<dom-module id="cfp-conference-list">
  <template>
    <style is="custom-style" include="shared-styles iron-flex iron-flex-alignment">
      paper-material {
        @apply(--paper-font-body2);
      };
      div.conferences {
        @apply(--layout-flex);
        @apply(--layout-wrap);
        @apply(--layout-horizontal);
      };
      div.conferences paper-material {
        width: 480px;
      };
      div.conferences table th {
        text-align: left;
        vertical-align: top;
      };
      div.conferences table td {
        text-align: left;
        vertical-align: top;
      };
    </style>

    <firebase-query path="/conference" order-by-child="cfpTo" data="{{conferences}}">
    </firebase-query>

    <div class="conferences">
    <template is="dom-repeat" items="[[conferences]]" as="conference">
      <paper-material elevation="1">
        <cfp-conference fire-app="[[fireApp]]" allow-edit="[[allowEdit]]" user-id="[[user.uid]]" conference="[[conference]]"></cfp-conference>
      </paper-material>
    </template>
    </div>
  </template>

  <script>
    (function() {
      'use strict';

      var monthTxt = [
            "January", "February", "March",
            "April", "May", "June", "July",
            "August", "September", "October",
            "November", "December"];

      Polymer({
        is: 'cfp-conference-list',

        properties: {
          conferences: {
            type: Array,
            notify: true
          },
          allowEdit: {
            type: Boolean,
            notify: true
          },
          user: {
            type: Object,
            notify: true
          },
          fireApp: {
            type: Object,
            notify: true,
            value: {}
          }
        }
      });
    })();
  </script>
</dom-module>
